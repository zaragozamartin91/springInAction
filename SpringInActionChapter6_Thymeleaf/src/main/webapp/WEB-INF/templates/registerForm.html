<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Spittr</title>
<link rel="stylesheet" type="text/css" th:href="@{/resources/style.css}" />
</head>
<body>
	<h1>Register</h1>

	<!--spitter debe ser una instancia de Spitter ya inyectada en el modelo -->
	<!--spitter sera el 'backing object', es decir, el objeto al cual se puede acceder a sus campos mediante *{} -->
	<!--${} implica expresion variable. #fields es un helper que ayuda a recorrer los campos. El modificador '*' sirve para mostrar TODOS los errores en el formulario -->
	<form method="post" th:object="${spitter}">
		<div class="errors" th:if="${#fields.hasErrors('*')}">
			<ul>
				<!-- se declarara un <li> por cada error encontrado. cada error se guarda en una variable temporal 'err' -->
				<li th:each="err: ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li>
			</ul>
		</div>

		<!-- Selection expressions *{} are just like variable expressions, except they will be executed on a previously selected object (using th:object=...) instead of the whole context variables map -->
		<label th:class="${#fields.hasErrors('firstName')}? 'error'">First Name:</label> <input type="text" th:field="*{firstName}"
			th:error="${#fields.hasErrors('firstName')}? 'error'" /><br />


	</form>


</body>
</html>